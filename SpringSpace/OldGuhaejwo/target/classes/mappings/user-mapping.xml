<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
			"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
			
<mapper namespace="UserDAO">
	<insert id="insertUser">
			INSERT INTO USERS(userseq, userid, userpw, username, useremail, useralias, userrole, userphone, userimg, useraddr) 
			VALUES ((select nvl(max(userseq), 0) + 1 from users), #{userId}, #{userPw}, #{userName}, #{userEmail},  #{userAlias}, #{userRole},#{userPhone}, #{userImage, jdbcType=VARCHAR}, #{userAddr, jdbcType=VARCHAR})
	</insert>

	<delete id="deleteUser">
		<![CDATA[
			DELETE FROM USERS
			WHERE USERSEQ = #{userSeq}
		]]>
	</delete>

	<select id="getUser" resultType="user">
		<![CDATA[
			SELECT * 
			FROM USERS 
			WHERE USERID = #{userId}
		]]>
	</select>
	
	<!-- 
	<update id="updateUser">
		<![CDATA[
			UPDATE BOARD SET
				TITLE = #{title}, 
				CONTENT = #{content} 
			WHERE SEQ = #{seq}
		]]>
	</update>
	
	
	
	<select id="getUserList" resultMap="user">
		SELECT * 
		FROM BOARD 
		WHERE 1 = 1 
		<if test="searchCondition == 'TITLE'">
			AND TITLE LIKE '%'||#{searchKeyword}||'%'
		</if>
		<if test="searchCondition == 'CONTENT'">
			AND CONTENT LIKE '%'||#{searchKeyword}||'%'
		</if>
		ORDER BY SEQ DESC
	</select>
	 -->
	
</mapper>